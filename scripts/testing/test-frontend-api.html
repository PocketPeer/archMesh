<!DOCTYPE html>
<html>
<head>
    <title>Frontend API Test</title>
</head>
<body>
    <h1>Frontend API Test</h1>
    <div id="results"></div>
    
    <script>
        // Test the API client directly
        class ApiClient {
            constructor(baseUrl = 'http://localhost:8000/api/v1') {
                this.baseUrl = baseUrl;
            }

            async getProjects(skip = 0, limit = 10) {
                const params = new URLSearchParams({
                    skip: skip.toString(),
                    limit: limit.toString(),
                });
                const response = await fetch(`${this.baseUrl}/projects/?${params}`);
                if (!response.ok) {
                    throw new Error(`Failed to fetch projects: ${response.statusText}`);
                }
                const data = await response.json();
                return { items: data.projects || [] };
            }
        }

        const apiClient = new ApiClient();

        async function testApi() {
            const resultsDiv = document.getElementById('results');
            
            try {
                console.log('Testing API client...');
                resultsDiv.innerHTML += '<p>Testing API client...</p>';
                
                const result = await apiClient.getProjects(0, 6);
                console.log('API result:', result);
                resultsDiv.innerHTML += `<p>✅ API Success: Found ${result.items.length} projects</p>`;
                resultsDiv.innerHTML += `<pre>${JSON.stringify(result, null, 2)}</pre>`;
                
            } catch (error) {
                console.error('API Error:', error);
                resultsDiv.innerHTML += `<p>❌ API Error: ${error.message}</p>`;
            }
        }

        // Run test when page loads
        window.addEventListener('load', testApi);
    </script>
</body>
</html>
